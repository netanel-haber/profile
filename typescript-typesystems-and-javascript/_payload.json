[{"data":1,"prerenderedAt":676},["Reactive",2],{"content-query-wWUOLP34KS":3},{"_path":4,"_dir":5,"_draft":6,"_partial":6,"_locale":5,"title":7,"description":5,"body":8,"_type":671,"_id":672,"_source":673,"_file":674,"_extension":675},"/typescript-typesystems-and-javascript","",false,"TypeScript, TypeSystems And JavaScript",{"type":9,"children":10,"toc":662},"root",[11,20,27,33,49,54,60,65,160,165,210,215,256,279,368,373,379,393,398,487,492,497,503,508,558,589,603,626,632,646,656],{"type":12,"tag":13,"props":14,"children":16},"element","h2",{"id":15},"typescript-typesystems-and-javascript",[17],{"type":18,"value":19},"text","TypeScript, TypeSystems and JavaScript",{"type":12,"tag":21,"props":22,"children":24},"h3",{"id":23},"buzzwords",[25],{"type":18,"value":26},"Buzzwords",{"type":12,"tag":28,"props":29,"children":30},"p",{},[31],{"type":18,"value":32},"TypeScript (or “TS”) is a language built upon JavaScript (or “JS”), the primary (perhaps a vast, vast understatement) language used to program web applications. The term “built upon” is important here — TS is “strict superset” of JavaScript. This means that any valid JS program is also a valid TS program.",{"type":12,"tag":28,"props":34,"children":35},{},[36,38,47],{"type":18,"value":37},"TypeScript (or TS) first appeared 9 years ago, in 2012. It is written and maintained by Microsoft. It is now one of the ",{"type":12,"tag":39,"props":40,"children":44},"a",{"href":41,"rel":42},"https://venturebeat.com/2020/12/02/github-python-and-typescript-gain-popularity-among-programming-languages/",[43],"nofollow",[45],{"type":18,"value":46},"most popular",{"type":18,"value":48}," programming tools in the world. If TS were a startup company, early investors would be breaking out the champagne. Without exaggerating, I think most webdevs would agree with me in thinking that it won’t be long before “vanilla” JS will no longer be shipped in any new commercial product. For anything more than a personal/hobby project, JS will be constrained in TS shackles.",{"type":12,"tag":28,"props":50,"children":51},{},[52],{"type":18,"value":53},"If the last two paragraphs irritated you, you’re not alone — they irritate me as well, although true. Buzzwords cut through all articles promoting some library or another, and they make it impossible to make actual value judgements. Moreover, they distract the reader from actual trends and move the focus from concepts to products. If C# were to switch out Java in its inception, do we envision a vastly different developmental landscape in the 90s? I’d argue against that. Rather, Java and its viable alternatives heralded the well-known trend (and one of more popular religions) of Object Oriented Programming, or OOP.",{"type":12,"tag":21,"props":55,"children":57},{"id":56},"an-example",[58],{"type":18,"value":59},"An Example",{"type":12,"tag":28,"props":61,"children":62},{},[63],{"type":18,"value":64},"So, the following case for TypeScript is actually a general case for using a type system in JavaScript programming. TypeScript is just the current best-in-class (by a wide chasm), and an objectively excellent candidate for accomplishing this goal. Let’s examine a very simple function in JS:",{"type":12,"tag":66,"props":67,"children":71},"pre",{"className":68,"code":69,"language":70,"meta":5,"style":5},"language-javascript shiki shiki-themes synthwave-84","function multiply(x, y) {\n  return x * y;\n}\n","javascript",[72],{"type":12,"tag":73,"props":74,"children":75},"code",{"__ignoreMap":5},[76,121,151],{"type":12,"tag":77,"props":78,"children":81},"span",{"class":79,"line":80},"line",1,[82,88,94,100,106,111,116],{"type":12,"tag":77,"props":83,"children":85},{"style":84},"--shiki-default:#FEDE5D",[86],{"type":18,"value":87},"function",{"type":12,"tag":77,"props":89,"children":91},{"style":90},"--shiki-default:#36F9F6",[92],{"type":18,"value":93}," multiply",{"type":12,"tag":77,"props":95,"children":97},{"style":96},"--shiki-default:#BBBBBB",[98],{"type":18,"value":99},"(",{"type":12,"tag":77,"props":101,"children":103},{"style":102},"--shiki-default:#FF7EDB;--shiki-default-font-style:italic",[104],{"type":18,"value":105},"x",{"type":12,"tag":77,"props":107,"children":108},{"style":96},[109],{"type":18,"value":110},", ",{"type":12,"tag":77,"props":112,"children":113},{"style":102},[114],{"type":18,"value":115},"y",{"type":12,"tag":77,"props":117,"children":118},{"style":96},[119],{"type":18,"value":120},") {\n",{"type":12,"tag":77,"props":122,"children":124},{"class":79,"line":123},2,[125,130,136,141,146],{"type":12,"tag":77,"props":126,"children":127},{"style":84},[128],{"type":18,"value":129},"  return",{"type":12,"tag":77,"props":131,"children":133},{"style":132},"--shiki-default:#FF7EDB",[134],{"type":18,"value":135}," x",{"type":12,"tag":77,"props":137,"children":138},{"style":84},[139],{"type":18,"value":140}," *",{"type":12,"tag":77,"props":142,"children":143},{"style":132},[144],{"type":18,"value":145}," y",{"type":12,"tag":77,"props":147,"children":148},{"style":96},[149],{"type":18,"value":150},";\n",{"type":12,"tag":77,"props":152,"children":154},{"class":79,"line":153},3,[155],{"type":12,"tag":77,"props":156,"children":157},{"style":96},[158],{"type":18,"value":159},"}\n",{"type":12,"tag":28,"props":161,"children":162},{},[163],{"type":18,"value":164},"Let’s call this function:",{"type":12,"tag":66,"props":166,"children":168},{"className":68,"code":167,"language":70,"meta":5,"style":5},"multiply(2, 3); // = 6\n",[169],{"type":12,"tag":73,"props":170,"children":171},{"__ignoreMap":5},[172],{"type":12,"tag":77,"props":173,"children":174},{"class":79,"line":80},[175,180,184,190,194,199,204],{"type":12,"tag":77,"props":176,"children":177},{"style":90},[178],{"type":18,"value":179},"multiply",{"type":12,"tag":77,"props":181,"children":182},{"style":96},[183],{"type":18,"value":99},{"type":12,"tag":77,"props":185,"children":187},{"style":186},"--shiki-default:#2EE2FA",[188],{"type":18,"value":189},"2",{"type":12,"tag":77,"props":191,"children":192},{"style":96},[193],{"type":18,"value":110},{"type":12,"tag":77,"props":195,"children":196},{"style":186},[197],{"type":18,"value":198},"3",{"type":12,"tag":77,"props":200,"children":201},{"style":96},[202],{"type":18,"value":203},"); ",{"type":12,"tag":77,"props":205,"children":207},{"style":206},"--shiki-default:#848BBD;--shiki-default-font-style:italic",[208],{"type":18,"value":209},"// = 6\n",{"type":12,"tag":28,"props":211,"children":212},{},[213],{"type":18,"value":214},"So thats very nice. We have a function that multiplies two numbers. But let’s call it with a string:",{"type":12,"tag":66,"props":216,"children":218},{"className":68,"code":217,"language":70,"meta":5,"style":5},"multiply(2, \"hello\"); // = NaN\n",[219],{"type":12,"tag":73,"props":220,"children":221},{"__ignoreMap":5},[222],{"type":12,"tag":77,"props":223,"children":224},{"class":79,"line":80},[225,229,233,237,241,247,251],{"type":12,"tag":77,"props":226,"children":227},{"style":90},[228],{"type":18,"value":179},{"type":12,"tag":77,"props":230,"children":231},{"style":96},[232],{"type":18,"value":99},{"type":12,"tag":77,"props":234,"children":235},{"style":186},[236],{"type":18,"value":189},{"type":12,"tag":77,"props":238,"children":239},{"style":96},[240],{"type":18,"value":110},{"type":12,"tag":77,"props":242,"children":244},{"style":243},"--shiki-default:#FF8B39",[245],{"type":18,"value":246},"\"hello\"",{"type":12,"tag":77,"props":248,"children":249},{"style":96},[250],{"type":18,"value":203},{"type":12,"tag":77,"props":252,"children":253},{"style":206},[254],{"type":18,"value":255},"// = NaN\n",{"type":12,"tag":28,"props":257,"children":258},{},[259,261,268,270,277],{"type":18,"value":260},"This is obviously a nonsensical operation (although ",{"type":12,"tag":39,"props":262,"children":265},{"href":263,"rel":264},"https://www.pythoncentral.io/use-python-multiply-strings/",[43],[266],{"type":18,"value":267},"in Python",{"type":18,"value":269}," multiplying 2 by “hello” would return “hellohello”. This is adorable) — and we receive NaN, which is a special value in JS which means “not a number” (complying with the ",{"type":12,"tag":39,"props":271,"children":274},{"href":272,"rel":273},"https://en.wikipedia.org/wiki/NaN",[43],[275],{"type":18,"value":276},"IEEE 754 floating point standard",{"type":18,"value":278},"). So it was a syntactically legal operation, but I doubt anyone writing that function wants their function to be called with a string value. Accordingly, this function could be written in TS like this:",{"type":12,"tag":66,"props":280,"children":284},{"className":281,"code":282,"language":283,"meta":5,"style":5},"language-typescript shiki shiki-themes synthwave-84","function multiply(x: number, y: number) {\n  return x * y;\n}\n","typescript",[285],{"type":12,"tag":73,"props":286,"children":287},{"__ignoreMap":5},[288,338,361],{"type":12,"tag":77,"props":289,"children":290},{"class":79,"line":80},[291,295,299,303,307,312,318,322,326,330,334],{"type":12,"tag":77,"props":292,"children":293},{"style":84},[294],{"type":18,"value":87},{"type":12,"tag":77,"props":296,"children":297},{"style":90},[298],{"type":18,"value":93},{"type":12,"tag":77,"props":300,"children":301},{"style":96},[302],{"type":18,"value":99},{"type":12,"tag":77,"props":304,"children":305},{"style":102},[306],{"type":18,"value":105},{"type":12,"tag":77,"props":308,"children":309},{"style":84},[310],{"type":18,"value":311},":",{"type":12,"tag":77,"props":313,"children":315},{"style":314},"--shiki-default:#FE4450",[316],{"type":18,"value":317}," number",{"type":12,"tag":77,"props":319,"children":320},{"style":96},[321],{"type":18,"value":110},{"type":12,"tag":77,"props":323,"children":324},{"style":102},[325],{"type":18,"value":115},{"type":12,"tag":77,"props":327,"children":328},{"style":84},[329],{"type":18,"value":311},{"type":12,"tag":77,"props":331,"children":332},{"style":314},[333],{"type":18,"value":317},{"type":12,"tag":77,"props":335,"children":336},{"style":96},[337],{"type":18,"value":120},{"type":12,"tag":77,"props":339,"children":340},{"class":79,"line":123},[341,345,349,353,357],{"type":12,"tag":77,"props":342,"children":343},{"style":84},[344],{"type":18,"value":129},{"type":12,"tag":77,"props":346,"children":347},{"style":132},[348],{"type":18,"value":135},{"type":12,"tag":77,"props":350,"children":351},{"style":84},[352],{"type":18,"value":140},{"type":12,"tag":77,"props":354,"children":355},{"style":132},[356],{"type":18,"value":145},{"type":12,"tag":77,"props":358,"children":359},{"style":96},[360],{"type":18,"value":150},{"type":12,"tag":77,"props":362,"children":363},{"class":79,"line":153},[364],{"type":12,"tag":77,"props":365,"children":366},{"style":96},[367],{"type":18,"value":159},{"type":12,"tag":28,"props":369,"children":370},{},[371],{"type":18,"value":372},"We’ve simply told TS that we don’t allow non number inputs to be given to the function. Now the second function call with the string value is illegal — TypeScript will yell at you and your editor will highlight it with red, mean squiggly lined until you change it, optionally forbidding you to ship your code until you do. This may seem annoying at first — you must sprinkle type hints all around the place for TS to be happy, and it will yell at you if you dont obey your own rules. Migrating most of my company’s codebase was a lesson in patience in that regard. But the effort pays off in compound down the road, and let’s examine why.",{"type":12,"tag":21,"props":374,"children":376},{"id":375},"so-what",[377],{"type":18,"value":378},"So What",{"type":12,"tag":28,"props":380,"children":381},{},[382,384,391],{"type":18,"value":383},"The ",{"type":12,"tag":39,"props":385,"children":388},{"href":386,"rel":387},"https://www.python.org/dev/peps/pep-0020/",[43],[389],{"type":18,"value":390},"Python zen",{"type":18,"value":392}," teaches us “Explicit is better than implicit” — users familiar with type systems (who are gawking at my “discovery” of a feature existing in languages for over 45 years) might think I’m invoking this rule for readability reasons — as in, any person reading my multiply function with type hints will know immediately that the inputs are 2 numbers. This is true (although, TS has very powerful type inference, such that in many cases you may leave off type hints). Another valid point would be the functionality aspect — as I’ve mentioned, calling multiply with “hello” is now impossible, which is a great thing.",{"type":12,"tag":28,"props":394,"children":395},{},[396],{"type":18,"value":397},"For me, though, the most compelling case for type systems is more conceptual. TS forces you to explicitly fill your programs with assertions that mirror your assumptions about the program. Let’s rewrite our multiplication function:",{"type":12,"tag":66,"props":399,"children":401},{"className":281,"code":400,"language":283,"meta":5,"style":5},"function fruitPrice(basePrice: number, quantity: number) {\n  return basePrice * quantity;\n}\n",[402],{"type":12,"tag":73,"props":403,"children":404},{"__ignoreMap":5},[405,455,480],{"type":12,"tag":77,"props":406,"children":407},{"class":79,"line":80},[408,412,417,421,426,430,434,438,443,447,451],{"type":12,"tag":77,"props":409,"children":410},{"style":84},[411],{"type":18,"value":87},{"type":12,"tag":77,"props":413,"children":414},{"style":90},[415],{"type":18,"value":416}," fruitPrice",{"type":12,"tag":77,"props":418,"children":419},{"style":96},[420],{"type":18,"value":99},{"type":12,"tag":77,"props":422,"children":423},{"style":102},[424],{"type":18,"value":425},"basePrice",{"type":12,"tag":77,"props":427,"children":428},{"style":84},[429],{"type":18,"value":311},{"type":12,"tag":77,"props":431,"children":432},{"style":314},[433],{"type":18,"value":317},{"type":12,"tag":77,"props":435,"children":436},{"style":96},[437],{"type":18,"value":110},{"type":12,"tag":77,"props":439,"children":440},{"style":102},[441],{"type":18,"value":442},"quantity",{"type":12,"tag":77,"props":444,"children":445},{"style":84},[446],{"type":18,"value":311},{"type":12,"tag":77,"props":448,"children":449},{"style":314},[450],{"type":18,"value":317},{"type":12,"tag":77,"props":452,"children":453},{"style":96},[454],{"type":18,"value":120},{"type":12,"tag":77,"props":456,"children":457},{"class":79,"line":123},[458,462,467,471,476],{"type":12,"tag":77,"props":459,"children":460},{"style":84},[461],{"type":18,"value":129},{"type":12,"tag":77,"props":463,"children":464},{"style":132},[465],{"type":18,"value":466}," basePrice",{"type":12,"tag":77,"props":468,"children":469},{"style":84},[470],{"type":18,"value":140},{"type":12,"tag":77,"props":472,"children":473},{"style":132},[474],{"type":18,"value":475}," quantity",{"type":12,"tag":77,"props":477,"children":478},{"style":96},[479],{"type":18,"value":150},{"type":12,"tag":77,"props":481,"children":482},{"class":79,"line":153},[483],{"type":12,"tag":77,"props":484,"children":485},{"style":96},[486],{"type":18,"value":159},{"type":12,"tag":28,"props":488,"children":489},{},[490],{"type":18,"value":491},"This function works great in dev with mock data, we receive the price of fruit from the server and the quantity from the client. Before pushing to production, the backend dev tells us that due to new architecture decisions, the price of certain fruit may be undetermined — now we may receive null, or an empty string when asking for the price of a fruit. Now when I call the price function with this new value, which may be undefined or a number, TypeScript yells because it know I am passing in a value which may not be a legal number.",{"type":12,"tag":28,"props":493,"children":494},{},[495],{"type":18,"value":496},"Again, this is great — my function would fail without a rewrite. But the real lesson I can take from the squiggly lines is about my assumptions. TS punishes you for a lenient or thoughtlessly written piece of code — it forces you to reexamine what you think the program actually does. So fruitPrice will undoubtedly have to change, but now you know where you casually gave yourself a break by assuming a stricter subset of input than in reality. Now you know your program must take an undetermined price into account. TS will selflessly tell you where this assumption is relevant, but the real takeaway is forcing you to more strictly define your program.",{"type":12,"tag":21,"props":498,"children":500},{"id":499},"but-typescript-though",[501],{"type":18,"value":502},"But TypeScript, Though",{"type":12,"tag":28,"props":504,"children":505},{},[506],{"type":18,"value":507},"Something must be said about the tool in order to encourage its’ use, aside from touting the general benefits of a type system. So why TS, after all?",{"type":12,"tag":28,"props":509,"children":510},{},[511,513,520,522,529,531,538,540,547,549,556],{"type":18,"value":512},"From a maintenance perspective, TS is, as mentioned, maintained by Microsoft. There are constant releases fixing bugs and meeting performance goals. New features are great, but really a dev needs to know that the project won’t ",{"type":12,"tag":39,"props":514,"children":517},{"href":515,"rel":516},"https://www.theregister.com/2020/03/26/corejs_maintainer_jailed_code_release/",[43],[518],{"type":18,"value":519},"collapse",{"type":18,"value":521}," because of a dangerous dependency on a small team’s free time, and that the project won’t be ",{"type":12,"tag":39,"props":523,"children":526},{"href":524,"rel":525},"https://en.wikipedia.org/wiki/CoffeeScript",[43],[527],{"type":18,"value":528},"forgotten",{"type":18,"value":530}," after a swift period of adoption. There are no guarantees, obviously, and no project lasts forever. But, for now, it seems like the buzzword period is mostly over — and the aftermath is major ",{"type":12,"tag":39,"props":532,"children":535},{"href":533,"rel":534},"https://angular.io/guide/typescript-configuration",[43],[536],{"type":18,"value":537},"libraries",{"type":18,"value":539}," and ",{"type":12,"tag":39,"props":541,"children":544},{"href":542,"rel":543},"https://deno.land/",[43],[545],{"type":18,"value":546},"technologies",{"type":18,"value":548}," have adopted TS, or ",{"type":12,"tag":39,"props":550,"children":553},{"href":551,"rel":552},"https://reactjs.org/docs/static-type-checking.html#typescript",[43],[554],{"type":18,"value":555},"at least actively maintain type declaration files and tooling",{"type":18,"value":557}," for consumers. Bet on TypeScript.",{"type":12,"tag":28,"props":559,"children":560},{},[561,563,570,572,579,580,587],{"type":18,"value":562},"I think one of the reasons for TS’s steady success is its’ core product — type systems for JS. It has cultivated many features that were eventually swallowed into vanilla JS — ",{"type":12,"tag":39,"props":564,"children":567},{"href":565,"rel":566},"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#optional-chaining",[43],[568],{"type":18,"value":569},"optional chaining",{"type":18,"value":571},", what seems like ",{"type":12,"tag":39,"props":573,"children":576},{"href":574,"rel":575},"https://www.typescriptlang.org/docs/handbook/classes.html",[43],[577],{"type":18,"value":578},"direct inspiration for JS es2015 classes",{"type":18,"value":110},{"type":12,"tag":39,"props":581,"children":584},{"href":582,"rel":583},"https://www.typescriptlang.org/docs/handbook/release-notes/typescript-3-7.html#nullish-coalescing",[43],[585],{"type":18,"value":586},"nullish coalescing",{"type":18,"value":588}," etc. But really, the main feature which browsers cannot adopt is the type system — JS is inherently dynamic, and a type system is a radical change browsers cannot simply add in. So by not competing with juggernaut browsers over its’ main feature, it can prevail safely without fearing a sudden hostile takeover.",{"type":12,"tag":28,"props":590,"children":591},{},[592,594,601],{"type":18,"value":593},"From a non maintenance perspective, TS has built its’ type system around widely used JS patterns. One example is that the TS type system is ",{"type":12,"tag":39,"props":595,"children":598},{"href":596,"rel":597},"https://en.wikipedia.org/wiki/Structural_type_system",[43],[599],{"type":18,"value":600},"structural",{"type":18,"value":602}," rather than nominal — basically, that one value is equivalent to another if it shares the structure of the other value. For example, a function that recieves { a: number; } as an argument, will also accept { a: number; b: number; } — the second type can be treated as the first type for all intents and purposes that the first type is used for in the function.",{"type":12,"tag":28,"props":604,"children":605},{},[606,608,615,617,624],{"type":18,"value":607},"In many other type systems, types can act in for other types only if an explicit (=nominal) relationship was tied between them, such as inheritance. A structural type system fits the JS pattern of constant usage of anonynous objects and values (including functions), without explicitly calling constructors and so forth. Forcing nonimal typing on existing JS code would change the style and patterns devs are used to. This is not the only advantage to a structural type system, but it illustrates the thinking behind the language design. For more on the unique fit between TS and JS (I didn’t even touch on the functional aspect), I strongly recommend watching ",{"type":12,"tag":39,"props":609,"children":612},{"href":610,"rel":611},"https://www.youtube.com/watch?v=jmPZztKIFf4",[43],[613],{"type":18,"value":614},"this talk",{"type":18,"value":616}," by ",{"type":12,"tag":39,"props":618,"children":621},{"href":619,"rel":620},"https://en.wikipedia.org/wiki/Anders_Hejlsberg",[43],[622],{"type":18,"value":623},"Anders Hejlsberg",{"type":18,"value":625},".",{"type":12,"tag":21,"props":627,"children":629},{"id":628},"giving-the-web-context",[630],{"type":18,"value":631},"Giving the Web Context",{"type":12,"tag":28,"props":633,"children":634},{},[635,637,644],{"type":18,"value":636},"In a final note, moving this text from notepad to an actual text editor with a spellchecker has shamefully revealed many squiggly lines, red, blue and green. In an imperfect analogy, JS editors have long had red lines for syntax errors (a.k.a. spelling mistakes). TS is more than a library, as it introduces a feature entirely impossible in current JS — green and blue squiggly lines, for contextual and grammatical errors. Suddenly my programs are more than blocks of black text, they speak to me and challenge my assumptions. So while we roll in the ",{"type":12,"tag":39,"props":638,"children":641},{"href":639,"rel":640},"https://insights.stackoverflow.com/survey/2020#technology-what-languages-are-associated-with-the-highest-salaries-worldwide",[43],[642],{"type":18,"value":643},"slim surplus of cash",{"type":18,"value":645}," we supposedly make by writing TS over plain JS, let’s all collectively move our programs from notepad to a text editor.",{"type":12,"tag":28,"props":647,"children":648},{},[649],{"type":12,"tag":39,"props":650,"children":653},{"href":651,"rel":652},"https://medium.com/@netanel.t.haber/typescript-typesystems-and-javascript-83153f249ce3?source=post_page-----83153f249ce3--------------------------------",[43],[654],{"type":18,"value":655},"Originally published on February 27, 2021, on Medium",{"type":12,"tag":657,"props":658,"children":659},"style",{},[660],{"type":18,"value":661},"html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}",{"title":5,"searchDepth":123,"depth":123,"links":663},[664],{"id":15,"depth":123,"text":19,"children":665},[666,667,668,669,670],{"id":23,"depth":153,"text":26},{"id":56,"depth":153,"text":59},{"id":375,"depth":153,"text":378},{"id":499,"depth":153,"text":502},{"id":628,"depth":153,"text":631},"markdown","content:TypeScript, TypeSystems and JavaScript.md","content","TypeScript, TypeSystems and JavaScript.md","md",1737178720852]